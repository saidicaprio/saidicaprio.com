<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>Realm数据库 | Sai&#39;s Cabin</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="Hi, I&#39;m SaiDicaprio, a iOS Developer from China.">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Realm数据库 | Sai&#39;s Cabin">
    <meta name="twitter:description" content="Hi, I&#39;m SaiDicaprio, a iOS Developer from China.">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Realm数据库 | Sai&#39;s Cabin">
    <meta property="og:description" content="Hi, I&#39;m SaiDicaprio, a iOS Developer from China.">

    
    <meta name="author" content="贺嘉炜">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="Sai&#39;s Cabin" href="/atom.xml">
    

    <link rel="canonical" href="https://saidicaprio.com/2017/09/Realm数据库/"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 Sai&#39;s Cabin 的主页"><img src="/images/avatar.jpg" width="80" alt="Sai&#39;s Cabin logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for Sai&#39;s Cabin">Sai&#39;s Cabin</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">落月摇情满江树</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">Hi, I'm SaiDicaprio, a iOS Developer from China.</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
            
              <li class="navigation__item"><a href="/">首页</a></li>
            
              <li class="navigation__item"><a href="./aboutme">关于</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/hjw6160602" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-blue"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-09-13T02:31:10.000Z" class="post-list__meta--date date">2017-09-13</time> &#8226; <span class="post-meta__tags tags">于&nbsp; </span>
      <span class="page-pv">
      &nbsp;阅读&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">Realm数据库</h1>
  </header>

  <section class="post">
    <h3 id="Realm是什么？"><a href="#Realm是什么？" class="headerlink" title="Realm是什么？"></a>Realm是什么？</h3><p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>是由Y Combinator公司孵化出来的一款可以用于iOS(同样适用于Swift&amp;Objective-C)和Android的跨平台移动数据库。支持的平台包括Java，Objective-C，Swift，React Native，<a href="http://baike.baidu.com/link?url=zoUIwykilfP1IkvGMPcJcmllWyYEWT441ZR2zLriH7N9lhZUcN1MIv39S8hZVWEZhnegaeFYsTKANdnyV4R1CK" target="_blank" rel="noopener">Xamarin</a>。<br>从2012年开发打造，2014年7月发布第一个版本，现在目前最新版是<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a> 2.1.2，像amazon,Google,intel,Alibaba,ebay等公司都在用，超过10亿用户+在使用。<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>核心数据引擎用C++打造，并不是建立在SQLite之上的ORM框架设计，采用<a href="(https://en.wikipedia.org/wiki/Multiversion_concurrency_control">MVCC</a>)（Multi-Version Concurrency Control 多版本并发控制）机制，所以<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>相比SQLite和CoreData而言更好、更快、更容易去使用和完成数据库的操作。想取代CoredData和sqlite,但它不是对CoreData的简单封装。相反<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>它使用了它自己的一套持久化<a href="https://realm.io/cn/news/jp-simard-realm-core-database-engine/" target="_blank" rel="noopener">存储引擎</a> 。在<a href="https://github.com/realm/realm-cocoa" target="_blank" rel="noopener">GitHUB</a>上已收获9500多颗星，1200多个Fork，堪称<em>新一代移动客户端数据库王者</em>，<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>单词中文翻译：领域、境界、王国。</p>
<h3 id="性能对比-Realm官方提供"><a href="#性能对比-Realm官方提供" class="headerlink" title="性能对比(Realm官方提供)"></a>性能对比(Realm官方提供)</h3><p>每秒能在20万条数据中进行查询后count的次数。<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>每秒可以进行30.9次查询后count。</p>
<p><img src="http://lvioscode.com/ios_documents/documents/raw/master/知识库/images/realm1.jpg" alt="realm1"></p>
<p>在20万条中进行一次遍历查询，数据和前面的count相似：<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>一秒可以遍历20万条数据31次，而coredata只能进行两次查询。</p>
<p><img src="http://lvioscode.com/ios_documents/documents/raw/master/知识库/images/realm2.jpg" alt="realm2"></p>
<p>这是在一次事务每秒插入数据的对比，<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>每秒可以插入9.4万条记录，在这个比较里纯SQLite的性能最好，每秒可以插入17.8万条记录。然而封装了SQLite的FMDB的成绩大概是<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>的一半。</p>
<p><img src="http://lvioscode.com/ios_documents/documents/raw/master/知识库/images/realm3.jpg" alt="realm3"></p>
<h4 id="iOS的四大存储方式："><a href="#iOS的四大存储方式：" class="headerlink" title="iOS的四大存储方式："></a>iOS的四大存储方式：</h4><ul>
<li>NSKeyedArchiver（归档）</li>
<li>NSUserDefaults（偏好设置）</li>
<li>Write写入方式:永久保存在磁盘中(plist文件等)</li>
<li>SQLite3 （CoreData本质上还是SQLite）</li>
</ul>
<h4 id="有哪些优点？"><a href="#有哪些优点？" class="headerlink" title="有哪些优点？"></a>有哪些优点？</h4><ul>
<li>有中文文档（OC支持到V2.0.3 Swift支持到V1.1.0）</li>
<li>轻量级,API简化很多，入门门槛低（语法简单）</li>
<li>相对于SQLite占用磁盘空间少</li>
<li>速度快（原因：不允许对象在不同的线程间共享，保证了数据的一致性，不加线程锁，保证了<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>的在速度上遥遥领先），其实这也算得上是一个限制</li>
<li>跨平台（数据库可以在不同平台上使用）</li>
<li>可视化 可通过Realm Browser 查看数据库（在APPStore上可下载）</li>
<li>真正的懒加载：只有当你真正访问对象的值时候才真正从磁盘中加载进来</li>
</ul>
<h4 id="试用范围："><a href="#试用范围：" class="headerlink" title="试用范围："></a>试用范围：</h4><p>适合一些业务逻辑不怎么复杂的场景应用。</p>
<p><br></p>
<hr>
<h3 id="一、-安装"><a href="#一、-安装" class="headerlink" title="一、 安装"></a>一、 <a href="">安装</a></h3><p>环境需要：iOS 7 及其以上版本，此外 <a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a> 支持 tvOS 和 watchOS 的所有版本。需要使用 Xcode 7.3以及以上版本。</p>
<blockquote>
<p>如果是混编项目，就需要安装OC的Realm，然后要把 Swift/RLMSupport.swift 文件一同编译进去。</p>
</blockquote>
<p>支持四种安装方式：</p>
<h3 id="Dynamic-Framework"><a href="#Dynamic-Framework" class="headerlink" title="Dynamic Framework"></a>Dynamic Framework</h3><blockquote>
<ol>
<li>下载最新的<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>发行版本，并解压；<br>前往Xcode 工程的”General”设置项中，从ios/dynamic/、osx/、tvos/或者watchos/中将’Realm.framework’拖曳到”Embedded Binaries”选项中。确认Copy items if needed被选中（除非您的项目中需要在多个平台中使用 <a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>），点击Finish按钮；</li>
<li>在单元测试 Target 的”Build Settings”中，在”Framework Search Paths”中添加Realm.framework的上级目录；</li>
<li>如果希望使用 Swift 加载 <a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>，请拖动Swift/RLMSupport.swift文件到 Xcode 工程的文件导航栏中并选中Copy items if needed；</li>
<li>如果在 iOS、watchOS 或者 tvOS 项目中使用 <a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>，在应用程序的target的”Build Phases”中，创建一个新的”Run Script Phase”，并将<figure class="highlight bash"><figcaption><span>"$&#123;BUILT_PRODUCTS_DIR&#125;/$&#123;FRAMEWORKS_FOLDER_PATH&#125;/Realm.framework/strip-frameworks.sh"```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###  CocoaPods（推荐,pod下来后大概接近63M）</span></span><br><span class="line">&gt;在`podfile`文件加入：</span><br><span class="line">```pod <span class="string">'Realm'</span>, <span class="string">'~&gt; 2.1.2'</span> ```最新tag是2.1.2 （这个方式可以看到C++部分代码）</span><br><span class="line"></span><br><span class="line"><span class="comment">###  Carthage</span></span><br><span class="line">&gt;需要安装 Carthage不推荐</span><br><span class="line"></span><br><span class="line"><span class="comment">###  Static Framework（不推荐，2.1.2版本大概422M）</span></span><br><span class="line">&gt;拖到项目中并添加 libc++.tbd库</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">### 二、Relam所有的[API](https://realm.io/docs/objc/latest/api/Classes.html)（都是以RLM开头）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMRealm](https://realm.io/docs/objc/latest/api/Classes/RLMRealm.html):Realm是框架的核心所在，是我们构建数据库的访问点，就如同CoreData的管理对象上下文（managed object context）或RAC的RACSignal。</span><br><span class="line">	</span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMObject](https://realm.io/docs/objc/latest/api/Classes/RLMObject.html):[Realm](https://realm.io/cn/)数据库表的数据模型,新建Model必须继承RLMObject,[Realm](https://realm.io/cn/)中的Model就是Table（表）,这个Model中的属性就相当于表中的字段。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMResults](https://realm.io/docs/objc/latest/api/Classes/RLMResults.html):这个类是执行查询请求后所返回的类，包含了一系列的RLMObject对象。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMRealmConfiguration](https://realm.io/docs/objc/latest/api/Classes/RLMRealmConfiguration.html):设置数据库名字、存储位置、数据库加密的key等。默认的存储路径是：应用的documents文件夹下的default.realm。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMArray](https://realm.io/docs/objc/latest/api/Classes/RLMArray.html):RLMArray 的接口和 NSArray 非常类似，在 RLMArray 中的对象能够通过索引下标(indexed subscripting)进行访问，在定义Model时，在申明的末尾加入RLM_ARRAY_TYPE（MyModel）宏才能使用，一般在一对多关系中用到。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMNotificationToken](https://realm.io/docs/objc/latest/api/Classes/RLMNotificationToken.html):通知。集合的数据改变了，可以添加通知方式来更新UI。RLMRealm，RLMCollection，RLMResults ，RLMArray，RLMLinkingObjects可以使用通知，这几个类中提供addNotificationBlock。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMMigration](https://realm.io/docs/objc/latest/api/Classes/RLMMigration.html):数据库的乔迁。主要使用RLMMigrationBlock 这个Block去操作完成。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMLinkingObjects](https://realm.io/docs/objc/latest/api/Classes/RLMLinkingObjects.html):它表示链接到其父对象的对象的集合。用在反向关系等。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMCollectionChange](https://realm.io/docs/objc/latest/api/Classes/RLMCollectionChange.html):一般用在UITableView数据的更改，具体见[官方Demo](https://github.com/realm/realm-cocoa) TableView。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp; [RLMProperty](https://realm.io/docs/objc/latest/api/Classes/RLMProperty.html):[Realm](https://realm.io/cn/)支持的属性。[Realm](https://realm.io/cn/)支持以下的属性类型：BOOL、bool、int、NSInteger、long、long long、<span class="built_in">float</span>、double、NSString、NSDate、NSData以及 被特殊类型标记的NSNumber。CGFloat属性的支持被取消了，因为它不具备平台独立性,不支持iOS平台上的集合类（NSArrary、NSDictionary、NSSet）。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSortDescriptor](https://realm.io/docs/objc/latest/api/Classes/RLMSortDescriptor.html)：一般用在多个条件排序。</span><br><span class="line"></span><br><span class="line">`+ (instancetype)sortDescriptorWithProperty:(NSString *)propertyName ascending:(BOOL)ascending;`</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line">		RLMResults  *results = [RLMResults sortedResultsUsingDescriptors:@[[RLMSortDescriptor sortDescriptorWithProperty:@<span class="string">"Date"</span> ascending:YES],…]]。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMPropertyDescriptor](https://realm.io/docs/objc/latest/api/Classes/RLMPropertyDescriptor.html)：一般与linkingObjectsProperties配合使用，用在反向关系。</span><br><span class="line"></span><br><span class="line">例:</span><br><span class="line"></span><br><span class="line">		+ (NSDictionary *)linkingObjectsProperties</span><br><span class="line">		&#123;</span><br><span class="line">		    <span class="built_in">return</span> @&#123; @<span class="string">"owners"</span>: [RLMPropertyDescriptor descriptorWithClass:Person.class propertyName:@<span class="string">"dogs"</span>] &#125;;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMObjectSchema](https://realm.io/docs/objc/latest/api/Classes/RLMObjectSchema.html):具体Model（表）的字段说明，一般在数据迁移的时候用到。</span><br><span class="line"></span><br><span class="line">		&#123;</span><br><span class="line">			age &#123;</span><br><span class="line">				<span class="built_in">type</span> = int;</span><br><span class="line">				objectClassName = (null);</span><br><span class="line">				linkOriginPropertyName = (null);</span><br><span class="line">				indexed = NO;</span><br><span class="line">				isPrimary = NO;</span><br><span class="line">				optional = NO;</span><br><span class="line">			&#125;</span><br><span class="line">			sex &#123;</span><br><span class="line">				<span class="built_in">type</span> = string;</span><br><span class="line">				objectClassName = (null);</span><br><span class="line">				linkOriginPropertyName = (null);</span><br><span class="line">				indexed = NO;</span><br><span class="line">				isPrimary = NO;</span><br><span class="line">				optional = YES;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSchema](https://realm.io/docs/objc/latest/api/Classes/RLMSchema.html):数据库中所有RLMObjectSchema的集合,只要继承RLMObject，都属于。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;*[RLMSyn](https://realm.io/cn/docs/objc/latest/<span class="comment">#realm--12)*系列一般联合服务器配合，本地数据库与服务器进行同步。具体见[官方Demo](https://github.com/realm/realm-cocoa)：Draw。 </span></span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSyncUser](https://realm.io/docs/objc/latest/api/Classes/RLMSyncUser.html):Realm 用户(RLMSyncUser) 是 [Realm](https://realm.io/cn/) 对象服务器 (Object Server) 当中的核心概念。如果要打开在[服务器](https://realm.io/docs/realm-object-server/)上的某个 Realm 数据库，那么首先您所需要做的就是以授权用户的身份进行登录。可以通过用户名/密码模式或者通过其他的[认证方法](https://realm.io/cn/docs/objc/latest/<span class="comment">#authentication)来让 RLMSyncUser 能够通过认证，从而访问共享的 [Realm](https://realm.io/cn/) 数据库。</span></span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSyncConfiguration](https://realm.io/docs/objc/latest/api/Classes/RLMSyncConfiguration.html)：设置本地服务器同步为服务器数据库。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;例：</span><br><span class="line"></span><br><span class="line">		RLMRealmConfiguration *config = [RLMRealmConfiguration defaultConfiguration]; </span><br><span class="line">		config.syncConfiguration = [[RLMSyncConfiguration alloc] initWithUser:user realmURL:syncServerURL];</span><br><span class="line">		RLMRealm *realm = [RLMRealm realmWithConfiguration:config error:nil]; </span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSyncCredentials](https://realm.io/docs/objc/latest/api/Classes/RLMSyncCredentials.html)：配置证书 (现支持Google Token 、iClound、FaceBook Token以及注册)。</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;例：</span><br><span class="line"></span><br><span class="line">	RLMSyncCredentials *usernameCredentials = [RLMSyncCredentials credentialsWithUsername:@<span class="string">"username"</span></span><br><span class="line">                                                                             password:@<span class="string">"password"</span></span><br><span class="line">                                                                              register:NO];</span><br><span class="line">	RLMSyncCredentials *googleCredentials = [RLMSyncCredentials credentialsWithGoogleToken:@<span class="string">"Google token"</span>];</span><br><span class="line">	RLMSyncCredentials *facebookCredentials = [RLMSyncCredentials credentialsWithFacebookToken:@<span class="string">"Facebook token"</span>];</span><br><span class="line">	RLMSyncCredentials *cloudKitCredentials = [RLMSyncCredentials credentialsWithCloudKitToken:@<span class="string">"CloudKit token"</span>];</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSyncManager](https://realm.io/docs/objc/latest/api/Classes/RLMSyncManager.html)：服务同步管理</span><br><span class="line"></span><br><span class="line">	// 监听服务器一些错误信息</span><br><span class="line">	[RLMSyncManager sharedManager].errorHandler = ^(NSError *error, RLMSyncSession *session) &#123;</span><br><span class="line">	        NSLog(@<span class="string">"A global error has occurred! %@"</span>, error);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSyncPermissionChange](https://realm.io/docs/objc/latest/api/Classes/RLMSyncPermissionChange.html)：更改同步服务器数据库的权限。</span><br><span class="line"></span><br><span class="line">		RLMSyncPermissionChange *permissionChange = [RLMSyncPermissionChange permissionChangeWithRealmURL:realmURL    // The remote Realm URL on <span class="built_in">which</span> to apply the changes</span><br><span class="line">		                                                                                             userID:anotherUser // The user ID <span class="keyword">for</span> <span class="built_in">which</span> these permission changes should be applied</span><br><span class="line">		                                                                                               <span class="built_in">read</span>:@YES        // Grant <span class="built_in">read</span> access</span><br><span class="line">		                                                                                              write:@YES        // Grant write access</span><br><span class="line">		                                                                                             manage:@NO];       // Grant management access</span><br><span class="line">		  [realm addObject:permissionChange];</span><br><span class="line">  </span><br><span class="line">&amp;nbsp;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;[RLMSyncSession](https://realm.io/docs/objc/latest/api/Classes/RLMSyncSession.html)：封装服务器会话的对象</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"><span class="comment">### 三、如何使用</span></span><br><span class="line"></span><br><span class="line">*  创建默认[Realm](https://realm.io/cn/)数据库</span><br><span class="line"></span><br><span class="line">Realm:</span><br><span class="line"></span><br><span class="line">在程序中，如果调用了[Realm defaultRealm]后，会默认在Documents文件夹下创建2个文件（一个是default.realm数据库，一个default.realm.lock），一个文件夹（default.realm.management）。</span><br><span class="line"></span><br><span class="line">![](http://lvioscode.com/ios_documents/documents/raw/master/%E7%9F%A5%E8%AF%86%E5%BA%93/images/realmDefault.jpg)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">设置自定义的数据库：（要以.realm文件类型才行）</span><br><span class="line"></span><br><span class="line">&gt; 例:设置Cache文件夹下名为test.realm</span><br><span class="line"></span><br><span class="line">`NSArray *cachePath = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES);`</span><br><span class="line"></span><br><span class="line">`NSString *fileName = [[[cachePath firstObject] stringByAppendingPathComponent:@<span class="string">"test"</span>] stringByAppendingPathExtension:@<span class="string">"realm"</span>];`</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">	- (void)setDefaultRealmWithPath:(NSString *)path &#123;</span><br><span class="line">		RLMRealmConfiguration *config = [RLMRealmConfiguration defaultConfiguration];</span><br><span class="line">	    config.fileURL = [NSURL URLWithString:path];// 将这个配置应用到默认的 Realm 数据库当中</span><br><span class="line">    	[RLMRealmConfiguration setDefaultConfiguration:config];</span><br><span class="line">    &#125;</span><br><span class="line">*配置数据库的存储路劲,原默认的Document文件夹下的default.realm数据库如果是空的数据库会自动删除，否则不会删除。*</span><br><span class="line"></span><br><span class="line">SQL:</span><br><span class="line"></span><br><span class="line">	// 获得数据库文件的路径</span><br><span class="line">	    NSString *cachePath = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject];</span><br><span class="line">	    NSString *fileName = [cachePath stringByAppendingPathComponent:@<span class="string">"default.sqlite"</span>];</span><br><span class="line">	    // 将OC字符串 转成 C语言字符串</span><br><span class="line">	    const char *cfilename = fileName.UTF8String;</span><br><span class="line">	    // 1.打开数据库（如果数据库文件不存在，sqlite3_open函数会自动创建数据库文件）</span><br><span class="line">	    int result = sqlite3_open(cfilename, &amp;_db);</span><br><span class="line">	    <span class="keyword">if</span> (result == SQLITE_OK) &#123; // 打开成功</span><br><span class="line">	        // 2.创表</span><br><span class="line">	        const char *sql = <span class="string">"CREATE TABLE IF NOT EXISTS Student (id integer PRIMARY KEY AUTOINCREMENT, name text NOT NULL, age integer NOT NULL);"</span>;</span><br><span class="line">	        char *erroMsg = NULL;</span><br><span class="line">	        result = sqlite3_exec(self.db, sql, NULL, NULL, &amp;erroMsg);</span><br><span class="line">	        <span class="keyword">if</span> (result == SQLITE_OK) &#123;</span><br><span class="line">	            NSLog(@<span class="string">"成功创表"</span>);</span><br><span class="line">	        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	            NSLog(@<span class="string">"创表失败-&gt;%s"</span>,erroMsg);</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	        NSLog(@<span class="string">"打开数据库失败"</span>);</span><br><span class="line">	    &#125;</span><br><span class="line"></span><br><span class="line">FMDB:</span><br><span class="line"></span><br><span class="line">	// 1.获得数据库文件的路径</span><br><span class="line">    NSString *doc = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject];</span><br><span class="line">    NSString *filename = [doc stringByAppendingPathComponent:@<span class="string">"defalut.sqlite"</span>];</span><br><span class="line">    // 2.得到数据库</span><br><span class="line">    FMDatabase *db = [FMDatabase databaseWithPath:filename];</span><br><span class="line">    // 3.打开数据库</span><br><span class="line">    <span class="keyword">if</span> ([db open]) &#123;</span><br><span class="line">        // 4.创表</span><br><span class="line">        BOOL result = [db executeUpdate:@<span class="string">"CREATE TABLE IF NOT EXISTS Student (id integer PRIMARY KEY AUTOINCREMENT, name text NOT NULL, age integer NOT NULL);"</span>];</span><br><span class="line">        <span class="keyword">if</span> (result) &#123;</span><br><span class="line">            NSLog(@<span class="string">"成功创表"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            NSLog(@<span class="string">"创表失败"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        NSLog(@<span class="string">"打开数据库失败"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">* 获取[Realm](https://realm.io/cn/)数据库</span><br><span class="line"></span><br><span class="line">		[RLMRealmConfiguration defaultConfiguration].fileURL 或 [RLMRealm defaultRealm].configuration.fileURL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 查看数据库</span><br><span class="line"></span><br><span class="line">	通过`Realm Broswer`工具可以查看。在AppStore可以[下载](https://itunes.apple.com/cn/app/realm-browser/id1007457278?mt=12)。</span><br><span class="line">	</span><br><span class="line">	![](http://lvioscode.com/ios_documents/documents/raw/master/%E7%9F%A5%E8%AF%86%E5%BA%93/images/realmBrowser.png)</span><br><span class="line"></span><br><span class="line">* 构建基于realm的数据model</span><br><span class="line">&gt;Realm Model插件（在[官方Demo](https://github.com/realm/realm-cocoa)中）</span><br><span class="line"></span><br><span class="line">	通过这个插件可快速生成RLMModelObject</span><br><span class="line">	</span><br><span class="line">	![](http://lvioscode.com/ios_documents/documents/raw/master/%E7%9F%A5%E8%AF%86%E5%BA%93/images/realmModelObject.png)</span><br><span class="line">	</span><br><span class="line">		@interface Student :RLMObject</span><br><span class="line">		@property  NSString *id; </span><br><span class="line">		@property  NSString *name;</span><br><span class="line">		@property  NSInteger *age;</span><br><span class="line">		@property  NSString *ignoredPro;</span><br><span class="line">		@property  RLMArray &lt;Day *&gt; *days;</span><br><span class="line">		@end</span><br><span class="line">		</span><br><span class="line">		RLM_ARRAY_TYPE(Student)</span><br><span class="line">		</span><br><span class="line">		@implementation Student</span><br><span class="line">		</span><br><span class="line">		// 设置主键</span><br><span class="line">		+ (NSString *)primaryKey &#123;</span><br><span class="line">		    <span class="built_in">return</span> @<span class="string">"id"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		// 设置属性默认值</span><br><span class="line">		+ (NSDictionary *)defaultPropertyValues&#123; </span><br><span class="line">		    <span class="built_in">return</span> @&#123;@<span class="string">"name"</span>:@<span class="string">"周武"</span>,@<span class="string">"age"</span>:@26&#125;;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		// 设置忽略属性,即不存到realm数据库中</span><br><span class="line">		+ (NSArray&lt;NSString *&gt; *)ignoredProperties &#123;</span><br><span class="line">		    <span class="built_in">return</span> @[@<span class="string">"ignoredPro"</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		// 如果设置了必须要的属性、这个属性的值不能传nil </span><br><span class="line">		+ (NSArray *)requiredProperties &#123; </span><br><span class="line">		    <span class="built_in">return</span> @[@<span class="string">"name"</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		//设置索引,可以加快检索的速度</span><br><span class="line">		+ (NSArray *)indexedProperties &#123;</span><br><span class="line">		    <span class="built_in">return</span> @[@<span class="string">"id"</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		@end</span><br><span class="line">		</span><br><span class="line">&gt; 不用加对属性的声明，如strong,copy,assin等。`@property  NSString *id; `</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*  存储数据（插入数据）</span><br><span class="line"></span><br><span class="line">Realm:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##### 存储创建对象有4中方式能存储：</span></span><br><span class="line"></span><br><span class="line">&gt;创建Dog对象，依次设置各个属性</span><br><span class="line"></span><br><span class="line">	Dog *myDog = [[Dog alloc] init];</span><br><span class="line">	</span><br><span class="line">	myDog.name  = @<span class="string">"haha"</span>;</span><br><span class="line">	</span><br><span class="line">	myDog.age   = 10;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 使用字典创建Dog对象</span><br><span class="line"></span><br><span class="line">	Dog *myDog = [[Dog alloc]initWithValue:@&#123;@<span class="string">"name"</span> :@<span class="string">"xiaoxiao"</span>, @<span class="string">"age"</span>  :@11 &#125;];</span><br><span class="line"></span><br><span class="line">&gt; 用数组的方式</span><br><span class="line"></span><br><span class="line">	Dog *myDog = [[Dog alloc]initWithValue:@[@<span class="string">"小小"</span>,@12]];</span><br><span class="line"></span><br><span class="line">&gt; 支持嵌套的对象（在一对多关系中用到）</span><br><span class="line"></span><br><span class="line">	Person *person = [[Person alloc] initWithValue:@[@<span class="string">"Thomas"</span>, @[aDog, anotherDog]]];</span><br><span class="line">	</span><br><span class="line">	RLMRealm *realm = [RLMRealm defaultRealm];</span><br><span class="line">	</span><br><span class="line">	[realm beginWriteTransaction];</span><br><span class="line">	</span><br><span class="line">	[realm addObject:myDog];// 把对象存到realm数据库</span><br><span class="line">	</span><br><span class="line">	[realm commitWriteTransaction];</span><br><span class="line"></span><br><span class="line">注意点：initWithValue包数据时，每个属性依次对象包数据，不能为nil,如果是@&#123;&#125;方式，无需按数据给每个属性赋值，可以随意，但必须为每个属性都要赋值。</span><br><span class="line"></span><br><span class="line">SQL：</span><br><span class="line"></span><br><span class="line">	NSString *name = @<span class="string">"周武"</span>;</span><br><span class="line">    int age = 26;</span><br><span class="line">    NSString *sql = [NSString stringWithFormat:@<span class="string">"INSERT INTO Student (name, age) VALUES ('%@', %d);"</span>, name, age];</span><br><span class="line">    // 2.执行SQL语句</span><br><span class="line">    char *erroMsg = NULL;</span><br><span class="line">    sqlite3_exec(self.db, sql.UTF8String, NULL, NULL, &amp;erroMsg);</span><br><span class="line">    <span class="keyword">if</span> (erroMsg) &#123;</span><br><span class="line">        NSLog(@<span class="string">"插入数据失败-&gt;%s"</span>, erroMsg);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        NSLog(@<span class="string">"成功插入数据"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">FMDB:</span><br><span class="line"></span><br><span class="line">	NSString *name = @<span class="string">"周武"</span>;</span><br><span class="line">	int age = 26;</span><br><span class="line">	[self.db executeUpdate:@<span class="string">"INSERT INTO Student (name, age) VALUES (?, ?);"</span>, name, age];</span><br><span class="line">	//或</span><br><span class="line">	[self.db executeUpdate:@<span class="string">"INSERT INTO Student (name, age) VALUES (?, ?);"</span> withArgumentsInArray:@[name, @(age)]];</span><br><span class="line">	//或</span><br><span class="line">	[self.db executeUpdateWithFormat:@<span class="string">"INSERT INTO Student (name, age) VALUES (%@, %d);"</span>, name, age];    </span><br><span class="line">	</span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">* 修改数据</span><br><span class="line"></span><br><span class="line">Realm:</span><br><span class="line"></span><br><span class="line">&gt; 内容直接更新</span><br><span class="line">	</span><br><span class="line">	Person *p =[ [Person allObjects] firstObject];</span><br><span class="line">	RLMRealm *realm = [RLMRealm defaultRealm];</span><br><span class="line">	[realm beginWriteTransaction];</span><br><span class="line">	p.name = @“周武”; // 更新Person表第一个对象的名称为’周武’</span><br><span class="line">	[realm commitWriteTransaction];</span><br><span class="line"></span><br><span class="line">&gt; 通过主键更新(必须在表中设置了主键，否则不能用OrUpdate相关方法)</span><br><span class="line"></span><br><span class="line">	[realm beginWriteTransaction];</span><br><span class="line">	</span><br><span class="line">	[Person createOrUpdateInRealm:realm withValue:@&#123;@<span class="string">"name"</span>: @“周武”&#125;]; </span><br><span class="line">	</span><br><span class="line">	或[Person createOrUpdateInRealm:realm withValue:p];</span><br><span class="line">	</span><br><span class="line">	[realm commitWriteTransaction];	</span><br><span class="line"></span><br><span class="line">&gt; 键值编码（KVC）更新</span><br><span class="line"></span><br><span class="line">	[p setValue:@“周武” forKeyPath:@<span class="string">"name"</span>];</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">FMDB:</span><br><span class="line"></span><br><span class="line">	[self.db executeUpdate:@<span class="string">"UPDATE Student SET id = ? WHERE name = ?;"</span>, @0, @<span class="string">"Thomas"</span>];</span><br><span class="line">	</span><br><span class="line">		</span><br><span class="line">&lt;br&gt;</span><br><span class="line">		</span><br><span class="line">* 删除数据</span><br><span class="line"></span><br><span class="line">Realm:</span><br><span class="line"></span><br><span class="line">&gt; 删除指定的数据:</span><br><span class="line"></span><br><span class="line">	[realm deleteObject:(RLMObject *)object];</span><br><span class="line">	</span><br><span class="line">例：</span><br><span class="line"></span><br><span class="line">	RLMResults *results = [Student allObjects];</span><br><span class="line">	[realm deleteObject:[results objectAtIndex:1]];</span><br><span class="line"></span><br><span class="line">&gt; 删除一组数据:</span><br><span class="line">	</span><br><span class="line">	[realm deleteObjects:(id)array];</span><br><span class="line">	</span><br><span class="line">例：</span><br><span class="line">	</span><br><span class="line">	[realm deleteObjects:[Student objectsWhere:@<span class="string">"age &gt; 5"</span>]];</span><br><span class="line"></span><br><span class="line">&gt; 删除全部数据:</span><br><span class="line">	</span><br><span class="line">	[realm deleteAllObjects()];</span><br><span class="line">	</span><br><span class="line">FMDB:</span><br><span class="line"></span><br><span class="line">	[self.db executeUpdate:@<span class="string">"DELETE FROM Student;"</span>];</span><br><span class="line">	// 或</span><br><span class="line">    [self.db executeUpdate:@<span class="string">"DROP TABLE IF EXISTS Student;"</span>];</span><br><span class="line">    </span><br><span class="line">    [self.db executeUpdate:@<span class="string">"CREATE TABLE IF NOT EXISTS Student (id integer PRIMARY KEY AUTOINCREMENT, name text NOT NULL, age integer NOT NULL);"</span>];</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line">* 查询数据（一般使用objectsWhere 或者objectsWithPredicate方法查询）</span><br><span class="line"> </span><br><span class="line">Realm:</span><br><span class="line"> </span><br><span class="line">&gt; 查询PersonModel表中所有的数据</span><br><span class="line"></span><br><span class="line">			RLMResults *results = [PersonModel allObjects]；// 在默认的数据库中查询 如果config修改fileUrl路径后 默认查询的是修改后路径的数据库。或者指定Realm数据库：</span><br><span class="line">			RLMRealm *realm = [RLMRealm realmWithPath:realmPath];</span><br><span class="line">			RLMResults *results = [PersonModel allObjectsInRealm:realm];</span><br><span class="line"></span><br><span class="line">&gt; 条件查询 (Realm支持[NSPredicate](https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Predicates/AdditionalChapters/Introduction.html)查询。)</span><br><span class="line">    </span><br><span class="line">	    1、 比较操作数(comparison operand)可以是属性名称或者某个常量，但至少有一个操作数必须是属性名称；</span><br><span class="line">	    </span><br><span class="line">	    2、比较操作符 ==、&lt;=、&lt;、&gt;=、&gt;、!=, 以及 BETWEEN 支持 int, long, long long, <span class="built_in">float</span>, double, 以及 NSDate 属性类型的比较，比如说 age == 45；</span><br><span class="line">	    </span><br><span class="line">	    3、相等比较 ==以及!=，比如说[Employee objectsWhere:@<span class="string">"company == %@"</span>, company]</span><br><span class="line">	    </span><br><span class="line">	    4、 比较操作符 == and != 支持布尔属性；</span><br><span class="line">	    </span><br><span class="line">	    5、 对于 NSString 和 NSData 属性来说，我们支持 ==、!=、BEGINSWITH、CONTAINS 以及 ENDSWITH 操作符，比如说</span><br><span class="line">	        name CONTAINS ‘Ja’；</span><br><span class="line">	    </span><br><span class="line">	    6、 字符串支持忽略大小写的比较方式，比如说 name CONTAINS[c] ‘Ja’ ，注意到其中字符的大小写将被忽略；</span><br><span class="line">	</span><br><span class="line">	    7、 Realm 支持以下复合操作符：“AND”、“OR” 以及 “NOT”。比如说 name BEGINSWITH ‘J’ AND age &gt;= 32；</span><br><span class="line">	</span><br><span class="line">	    8、 包含操作符 IN，比如说 name IN &#123;‘Lisa’, ‘Spike’, ‘Hachi’&#125;；</span><br><span class="line">	</span><br><span class="line">	    9、 ==、!=支持与 nil 比较，比如说 [Company objectsWhere:@<span class="string">"ceo == nil"</span>]。注意到这只适用于有关系的对象，这里 ceo 是 Company 模型的一个属性。</span><br><span class="line">	</span><br><span class="line">	    10、 通过 ==, != 进行空值比较，比如说 [Company objectsWhere:@<span class="string">"ceo == nil"</span>]； 注意，Realm 将 nil 视为一个特殊的值而不是“缺失值”，不像 SQL 那样 nil 等于自身。</span><br><span class="line">	</span><br><span class="line">	    11、 ANY 比较，比如说 ANY student.age &lt; 21</span><br><span class="line">	</span><br><span class="line">	    12、 RLMArray 以及 RLMResults 属性支持集合表达式：@count、@min、@max、@sum 以及 @avg，例如 [Company objectsWhere:@<span class="string">"employees.@count &gt; 5"</span>] 用以寻找所有超过 5 名雇员的公司。</span><br><span class="line">	</span><br><span class="line">	    13、 支持子查询，不过有限制：</span><br><span class="line">	</span><br><span class="line">	    14、 @count 是唯一能应用在 SUBQUERY 表达式中的操作符</span><br><span class="line">	</span><br><span class="line">	    15、 SUBQUERY(…).@count 表达式必须与常量进行比较</span><br><span class="line">		</span><br><span class="line">	    16、 相关子查询目前还不支持</span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<pre><code>    // 使用NSPredicate字符串查询
    RLMResults&lt;Dog *&gt; *tanDogs = [Dog objectsWhere:@&quot;color = &apos;棕黄色&apos; AND name BEGINSWITH &apos;大&apos;&quot;];
    // 使用 NSPredicate 查询
    NSPredicate *pred = [NSPredicate predicateWithFormat:@&quot;color = %@ AND name BEGINSWITH %@&quot;,
                                                         @&quot;棕黄色&quot;, @&quot;大&quot;];
    tanDogs = [Dog objectsWithPredicate:pred];

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 条件排序（一般使用`[RLMResults sortedResultsUsingProperty:ascending:]` 或 `[RLMResults sortedResultsUsingDescriptors:@[RLMSortDescriptor,…..]]` )</span><br></pre></td></tr></table></figure>
</code></pre><p>RLMResults <em>results = [[PersonModel allObjects] sortedResultsUsingProperty:@”age” ascending:YES]// 按照age升序<br>RLMResults </em>results = [[PersonModel allObjects] sortedResultsUsingDescriptors:@[[RLMSortDescriptor sortDescriptorWithProperty:@”sex” ascending:YES],[RLMSortDescriptor sortDescriptorWithProperty:@”age” ascending:NO]]]; // 按照sex字段升序 age字段降序排序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">FMDB:</span><br><span class="line"></span><br><span class="line">	// 1.执行查询语句</span><br><span class="line">    FMResultSet *resultSet = [self.db executeQuery:@&quot;SELECT * FROM Student&quot;];</span><br><span class="line">    // 2.遍历结果</span><br><span class="line">    while ([resultSet next]) &#123;</span><br><span class="line">        int ID = [resultSet intForColumn:@&quot;id&quot;];</span><br><span class="line">        NSString *name = [resultSet stringForColumn:@&quot;name&quot;];</span><br><span class="line">        int age = [resultSet intForColumn:@&quot;age&quot;];</span><br><span class="line">        NSLog(@&quot;%d %@ %d&quot;, ID, name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 链式查询(RLMResults一层一层的过滤)</span><br></pre></td></tr></table></figure></p>
<pre><code>RLMResults&lt;Dog *&gt; *tanDogs = [Dog objectsWhere:@&quot;color = &apos;棕黄色&apos;&quot;];
RLMResults&lt;Dog *&gt; *tanDogsWithBNames = [tanDogs objectsWhere:@&quot;name BEGINSWITH &apos;大&apos;&quot;];
跟
// 使用 NSPredicate 查询
NSPredicate *pred = [NSPredicate predicateWithFormat:@&quot;color = %@ AND name BEGINSWITH %@&quot;,
                                                     @&quot;棕黄色&quot;, @&quot;大&quot;];
tanDogs = [Dog objectsWithPredicate:pred]; 结果是一样的。
```
</code></pre><p>FMDB:</p>
<pre><code>[self.db executeUpdate:@&quot;SELECT * FROM Student WHERE color = ? AND name LIKE &apos;%@%&apos;&quot;,@&quot;棕黄色&quot;,@&quot;大&quot;];
</code></pre><p><br></p>
<ul>
<li>移动端平台<a href="https://realm.io/cn/docs/realm-object-server/" target="_blank" rel="noopener">Realm对象服务</a> (专业版)</li>
</ul>
<p><img src="http://lvioscode.com/ios_documents/documents/raw/master/%E7%9F%A5%E8%AF%86%E5%BA%93/images/realmObectServer.png" alt=""></p>
<p>1、先去Realm<a href="https://static.realm.io/downloads/mobile-platform/latest/realm-mobile-platform.zip" target="_blank" rel="noopener">下载</a> 服务器工具。</p>
<p>2、下载解压后打开双击start-object-server.command这个文件。(请勿关闭打开的终端，否则无法访问<a href="http://localhost:9080/#/" target="_blank" rel="noopener">http://localhost:9080/#/</a></p>
<p>3、提示注册。注册成功后会看到这个 上面截图 Realm Dashboard</p>
<p>4、运行<a href="https://github.com/realm/realm-cocoa" target="_blank" rel="noopener">官方Demo</a> Draw</p>
<p><img src="http://lvioscode.com/ios_documents/documents/raw/master/%E7%9F%A5%E8%AF%86%E5%BA%93/images/realmDraw.gif" alt=""></p>
<blockquote>
<p><em>注意点：</em></p>
</blockquote>
<ul>
<li>修改kIPAddress常量 改为本机的IP 在终端运行：ifconfig | grep “inet “ | grep -v 127.0.0.1 可获取。</li>
<li>修改用户名和密码。</li>
<li>连接成功后 会在应用的Document文件夹下生成realm-object-server文件夹</li>
</ul>
<p><img src="http://lvioscode.com/ios_documents/documents/raw/master/%E7%9F%A5%E8%AF%86%E5%BA%93/images/realmSynCode.png" alt=""></p>
<hr>
<h3 id="四、特性："><a href="#四、特性：" class="headerlink" title="四、特性："></a>四、特性：</h3><ul>
<li><p>支持KVC和KVO</p>
<p>RLMObject、RLMResult以及 RLMArray都遵守键值编码(Key-Value Coding)（KVC）机制。</p>
<p><code>[p setValue:@“周武” forKeyPath:@&quot;name&quot;];</code></p>
<p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>对象的大多数属性都遵从 KVO 机制。所有 RLMObject子类的持久化(persisted)存储（未被忽略）的属性都是遵循 KVO 机制的，并且 RLMObject以及 RLMArray中 无效的(invalidated)属性也同样遵循（然而 RLMLinkingObjects属性并不能使用 KVO 进行观察）。</p>
</li>
<li><p>支持数据库加密</p>
</li>
</ul>
<p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>支持在创建<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>数据库时采用64位的密钥对数据库文件进行 AES-256+SHA2 加密。这样硬盘上的数据都能都采用AES-256来进行加密和解密，并用 SHA-2 HMAC 来进行验证。每次要获取一个 Realm 实例时，需要提供一次相同的密钥。</p>
<pre><code>RLMRealmConfiguration *configuration = [RLMRealmConfiguration defaultConfiguration];
configuration.encryptionKey = [self getKey];
RLMRealm *realm = [RLMRealm realmWithConfiguration:configuration
                                                 error:nil];
</code></pre><blockquote>
<p>不过，加密过的 Realm 只会带来很少的额外资源占用（通常最多只会比平常慢10%）。</p>
</blockquote>
<ul>
<li>通知</li>
</ul>
<blockquote>
<p>申请一个strong属性持有这个通知。</p>
</blockquote>
<p><code>@property (nonatomic, strong) RLMNotificationToken *notification;</code></p>
<pre><code>self.notification = [realm addNotificationBlock:^(NSString *notification, RLMRealm * realm) {
     // do something
}];

- (void)dealloc {
    [_notification stop];// 移除通知
}
</code></pre><p>RLMRealm，RLMCollection，RLMResults ，RLMArray，RLMLinkingObjects 这些类支持添加通知。</p>
<ul>
<li>数据库迁移</li>
</ul>
<p>见<a href="https://github.com/realm/realm-cocoa" target="_blank" rel="noopener">官方Demo</a> <code>Migration</code> 例子。</p>
<p>第一个是合并字段的例子，第二个是增加新字段的例子，第三个是原字段重命名的例子。</p>
<pre><code>RLMMigrationBlock migrationBlock = ^(RLMMigration *migration, uint64_t oldSchemaVersion) {
        if (oldSchemaVersion &lt; 1) {
            [migration enumerateObjects:Person.className block:^(RLMObject *oldObject, RLMObject *newObject) {
                if (oldSchemaVersion &lt; 1) {
                    // combine name fields into a single field
                    newObject[@&quot;fullName&quot;] = [NSString stringWithFormat:@&quot;%@ %@&quot;, oldObject[@&quot;firstName&quot;], oldObject[@&quot;lastName&quot;]];
                }
            }];
        }
        if (oldSchemaVersion &lt; 2) {
            [migration enumerateObjects:Person.className block:^(RLMObject *oldObject, RLMObject *newObject) {
                // give JP a dog
                if ([newObject[@&quot;fullName&quot;] isEqualToString:@&quot;JP McDonald&quot;]) {
                    Pet *jpsDog = [[Pet alloc] initWithValue:@[@&quot;Jimbo&quot;, @(AnimalTypeDog)]];
                    [newObject[@&quot;pets&quot;] addObject:jpsDog];
                }
            }];
        }
        if (oldSchemaVersion &lt; 3) {
            [migration enumerateObjects:Pet.className block:^(RLMObject *oldObject, RLMObject *newObject) {
                // convert type string to type enum if we have outdated Pet object
                if (oldObject &amp;&amp; oldObject.objectSchema[@&quot;type&quot;].type == RLMPropertyTypeString) {
                    newObject[@&quot;type&quot;] = @([Pet animalTypeForString:oldObject[@&quot;type&quot;]]);
                }
            }];
        }
        NSLog(@&quot;Migration complete.&quot;);
    };

RLMRealmConfiguration *configuration = [RLMRealmConfiguration defaultConfiguration];

// set the schema verion and migration block for the defualt realm
configuration.schemaVersion = 3;
configuration.migrationBlock = migrationBlock;

[RLMRealmConfiguration setDefaultConfiguration:configuration];
</code></pre><hr>
<h3 id="五、缺点-限制"><a href="#五、缺点-限制" class="headerlink" title="五、缺点/限制"></a>五、缺点/限制</h3><ul>
<li><p>类名称的长度最大只能存储 57 个 UTF8 字符。</p>
</li>
<li><p>属性名称的长度最大只能支持 63 个 UTF8 字符。</p>
</li>
<li><p>NSData以及 NSString属性不能保存超过 16 MB 大小的数据</p>
</li>
<li><p>字符集的限制（对字符串进行排序以及不区分大小写查询只支持“基础拉丁字符集”、“拉丁字符补充集”、“拉丁文扩展字符集 A” 以及”拉丁文扩展字符集 B“（UTF-8 的范围在 0~591 之间））</p>
</li>
<li><p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a> 对象不支持跨线程</p>
</li>
<li><p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>对象的 Setters &amp; Getters 不能被重载</p>
</li>
<li><p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a> 没有自动增长属性</p>
</li>
<li><p>所有的数据模型必须直接继承自RealmObject</p>
</li>
<li><p><a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>不支持集合类型（NSArray，NSMutableArray，NSDictionary，NSMutableDictionary，NSSet，NSMutableSet等）</p>
</li>
<li><p>文件大小 &amp; 版本跟踪<br><br></p>
</li>
</ul>
<hr>
<h3 id="六、相关文档"><a href="#六、相关文档" class="headerlink" title="六、相关文档"></a>六、相关文档</h3><p>Realm Demo：<a href="https://github.com/realm/realm-cocoa" target="_blank" rel="noopener">https://github.com/realm/realm-cocoa</a></p>
<p>Realm官网：<a href="https://realm.io/" target="_blank" rel="noopener">https://realm.io/</a>   中文官网 <a href="https://realm.io/cn/" target="_blank" rel="noopener">https://realm.io/cn/</a></p>
<p>Objective-C文档：<a href="https://realm.io/docs/objc/latest/" target="_blank" rel="noopener">https://realm.io/docs/objc/latest/</a>   2.0.3版本支持中文文档。</p>
<p>Realm新闻：<a href="https://realm.io/news/" target="_blank" rel="noopener">https://realm.io/news/</a>  这里面都是技术博文，不只是讲Realm的，里面还包含其他的技术知识。</p>
<p>Realm 核心数据库引擎探秘:<a href="https://realm.io/cn/news/jp-simard-realm-core-database-engine/" target="_blank" rel="noopener">https://realm.io/cn/news/jp-simard-realm-core-database-engine/</a> （在Realm新闻里面可找到）</p>
<p>深入理解Realm的多线程机智：<a href="https://realm.io/cn/news/threading-deep-dive/" target="_blank" rel="noopener">https://realm.io/cn/news/threading-deep-dive/</a>  建议看看（在Realm新闻里面可找到）<br><br></p>
<hr>
<h3 id="七、常用疑问"><a href="#七、常用疑问" class="headerlink" title="七、常用疑问"></a>七、常用疑问</h3><blockquote>
<p>1、<em>为什么 Realm 对象不能在线程间传递？</em></p>
</blockquote>
<p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;<a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a>官方解释：如果 <a href="https://realm.io/cn/" target="_blank" rel="noopener">Realm</a> 允许对象可在线程间共享，Realm 会无法确保数据的一致性，因为不同的线程会在不确定的什么时间点同时改变对象的数据。</p>
<blockquote>
<p>2、<em>是否开源？</em></p>
</blockquote>
<p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;已经开源，只是大部分已经开源，c++核心代码没有开源。使用cocoapods方式安装可以查看c++部分代码。</p>
<blockquote>
<p>3、<em>realm的支持库有多大？</em><br></p>
</blockquote>
<p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;一旦你的app编译完成， realm的支持库应该只有1 MB左右。 发布的时候各个版本不一，最新的2.1.2版本framework 62M多， 那是因为它们还包含了对其他构架的支持（ARM， ARM64，模拟器的是X86）和一些编译符号。 这些都会在你编译app的时候被Xcode自动清理掉。</p>
<blockquote>
<p>4、<em>是否安全？</em></p>
</blockquote>
<p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;支持加密  在RLMRealmConfiguration 属性encryptionKey 设置加密的密钥。</p>
<p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;加密/解密：</p>
<pre><code>RLMRealmConfiguration *configuration = [RLMRealmConfiguration defaultConfiguration];
configuration.encryptionKey = myKey;
RLMRealm *realm = [RLMRealm realmWithConfiguration:configuration
                                             error:nil];
</code></pre><blockquote>
<p>5、<em>需要付费吗？</em></p>
</blockquote>
<p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;个人以及商业使用是免费的。专业版前2个月免费，后每月$1500，具体看Realm<a href="https://realm.io/cn/pricing/" target="_blank" rel="noopener">价格</a>。 </p>
<p>&nbsp;&nbsp; &nbsp;专业版多出的功能：</p>
<ul>
<li><p>响应活动对象中更改的触发事件（Trigger events in response to change in your live objects）</p>
</li>
<li><p>与现有基础架构和第三方API集成 （Integrate with existing infrastructure and 3rd-party APIs）</p>
</li>
<li><p>对同步的数据启用业务逻辑（Enable business logic on synced data）</p>
</li>
<li><p>获得对服务器端的Realm对象的访问（Gain access to Realm objects server-side）</p>
</li>
<li><p>备份数据（Backup your Realm data for disaster recovery）</p>
</li>
</ul>
<p><br></p>
<hr>
<h3 id="八、总结"><a href="#八、总结" class="headerlink" title="八、总结"></a>八、总结</h3><ul>
<li><p>所有的操作（添加、删除、更新、插入等）必须在提交事物(<code>transaction</code>)中完成。</p>
</li>
<li><p>所有的<code>Model</code>必须继承<code>RLMObject</code>。</p>
</li>
<li><p>跨线程，不能使用同一个<code>RLMRealm</code> 对象，单独在线程中创建一个<code>[RLMRealm defaultRealm]</code>对象;</p>
</li>
<li><p>创建的Model最好要有主键方便更新数据。</p>
</li>
<li><p>创建的Model最好在申明末尾加入这个宏<code>RLM_ARRAY_TYPE(Class)</code>，方便以后的扩展使其实现多对关系。</p>
</li>
</ul>

  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2017/12/证书格式和HTTPS设置/" title="证书格式和HTTPS设置">证书格式和HTTPS设置</a></h2>
                <p class="excerpt">
                
                一、HTTPS的方式

SSL
OpenSSL
X.509 证书标准

二、证书编码格式

2.1 PEM
2.2 DER

三、相关的文件扩展名

CRT
CER
KEY
CSR
P12(PFX)
JKS

四、证书编码的转换

4.1 PEM转为DER
4.2 DER转为PEM 

五、获得证书
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-12-06T11:31:14.000Z" class="post-list__meta--date date">2017-12-06</time> &#8226; <span class="post-list__meta--tags tags">于&nbsp;</span><a class="btn-border-small" href="/2017/12/证书格式和HTTPS设置/">继续阅读</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2017/09/配置SourceTree脚本/" title="配置SourceTree脚本">配置SourceTree脚本</a></h2>
                <p class="excerpt">
                
                首先我们来看下SourceTree的Custom Actions是什么？Custom Actions是SourceTree提供给用户去执行自己的一些脚本的一些设置。首先打开SourceTree，点击菜单栏上的Preferences（或者使用Command＋，），点击Custom Actions就可以
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-09-12T08:37:46.000Z" class="post-list__meta--date date">2017-09-12</time> &#8226; <span class="post-list__meta--tags tags">于&nbsp;</span><a class="btn-border-small" href="/2017/09/配置SourceTree脚本/">继续阅读</a></div>
                       
            </div>
        
     
   
   
  
</section>

  

            <footer class="footer">
    <span class="footer__copyright">
        本站点采用 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </span>
    <span class="footer__copyright">
        基于 <a href="http://hexo.io">Hexo</a> 搭建，感谢 <a href="https://pages.github.com/">GitHub Pages</a> 提供免费的托管服务
    </span>
    <span class="footer__copyright">
        &copy; 2019 - 本站使用 <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> 主题,
        由<a href="https://monniya.com ">@Monniya</a> 修改自 <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, 原创出自<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
    </span>
    
</footer>


        </div>
    </div>

     
    


    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
</body>
</html>
